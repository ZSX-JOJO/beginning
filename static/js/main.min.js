!function(t,e){"use strict";var i=function(t,e){return t?e.show():e.hide()},n=e("#menu");e(t).resize(function(){var t=document.body.clientWidth<960;i(!t,n)}),e(document).on("click",function(){var t=document.body.clientWidth<960;i(!t,n)}),e("#open-menu").on("click",function(t){t.stopPropagation(),i("block"!==e(n).css("display"),n)});var a=e("#gotoup");e(t).on("scroll",function(){(t.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)>400?i(!0,a):i(!1,a)}),a.on("click",function(){e("body,html").animate({scrollTop:0},1e3)});var o=e("#site-notice");if(o){var c=1,l=o.find("ul"),r=o.find("li"),s=r.length;setInterval(function(){c>=s&&(c=0),l.css({top:-24*c+++"px"})},5e3)}var d=document.getElementById("archive-chart");if(d){var u=e(d).data("value"),g=t.echarts.init(d);g.showLoading();var m={calculable:!0,tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:[{type:"category",data:u.x.reverse()}],yAxis:[{type:"value",scale:!0,name:"已发布"}],dataZoom:[{show:!0,type:"slider"}],grid:{left:"15%",right:"15%"},series:[{name:"文章数量",type:"line",itemStyle:{normal:{color:"#333",lineStyle:{color:"#666"}}},data:u.y.reverse()}]};g.setOption(m),g.hideLoading(),g.on("click",function(e){t.location.href="/?record="+e.name})}var v=e("#album"),p=e("#log-body");p.find("img").parent("a").click(function(t){t.preventDefault()}),p.on("click","img",function(t){t.stopPropagation();var i=e(t.target).attr("src"),n=p.find("img"),a=[];n.each(function(t,n){var o=e(n).attr("src"),c="";c=i===o?"<img src='"+o+"' class='active' />":"<img src='"+o+"' />",-1===e.inArray(c,a)&&a.push(c)}),e("#album-pic").html(a.join("")),v.fadeIn(100)});var f=e("#album-ctrl"),h=e("#album-pic");f.on("click","#next",function(){var t=h.find("img");if(t.length<2)return!1;var i=e("#album-pic").find("img.active");i.next().length?i.next().attr("class","active"):e(t[0]).attr("class","active"),i.removeClass("active")}),f.on("click","#prev",function(){var t=h.find("img");if(t.length<2)return!1;var i=e("#album-pic").find("img.active");i.prev().length?i.prev().attr("class","active"):e(t[t.length-1]).addClass("active"),i.removeClass("active")}),f.on("click","#close-album",function(){v.hide()}),v.on("click",".shadow",function(){v.fadeOut(100)});var y=e("body");y.find(".nav");y.hasClass("headerFixed")||e(t).scroll(function(t){e(this).scrollTop()>200?y.addClass("headerFixed"):y.removeClass("headerFixed")}),prettyPrint();var b=jQuery.ias({container:"#log_list",item:".log_list_item",pagination:"#pagenavi",next:"#pagenavi .next"});b.extension(new IASTriggerExtension({html:'<button class="btn btn-primary btn-block">加载更多</button>'})),b.extension(new IASSpinnerExtension({html:'<div class="log-loading">Loading...</div>'})),b.extension(new IASNoneLeftExtension({text:'<div class="log-loading">加载完毕!</div>'})),e(".i-reward").on("click",function(){var t=e(this).data("url");layer.tab({area:["323px","320px"],shadeClose:!0,tab:[{title:"微信",content:'<img src="'+t+'/static/images/wechatPay.png" style="display: block;margin: 0 auto;" height="256" alt="微信打赏">'},{title:"支付宝",content:'<img src="'+t+'/static/images/alipay.jpg" style="display: block;margin: 0 auto;" height="256" alt="打赏作者">'}]})})}(window,jQuery);