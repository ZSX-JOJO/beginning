!function(t,e){"use strict";var a=function(t,e){return t?e.show():e.hide()},i=e("#menu");e(t).resize(function(){var t=document.body.clientWidth<960;a(!t,i)}),e(document).on("click",function(){var t=document.body.clientWidth<960;a(!t,i)}),e("#open-menu").on("click",function(t){t.stopPropagation(),a("block"!==e(i).css("display"),i)});var n=e("#gotoup");e(t).on("scroll",function(){(t.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)>400?a(!0,n):a(!1,n)}),n.on("click",function(){e("body,html").animate({scrollTop:0},1e3)});var c=e("#site-notice");if(c){var o=1,r=c.find("ul"),l=c.find("li"),s=l.length;setInterval(function(){o>=s&&(o=0),r.css({top:-24*o+++"px"})},5e3)}var d=document.getElementById("archive-chart");if(d){var u=e(d).data("value"),m=t.echarts.init(d);m.showLoading();var v={calculable:!0,tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:[{type:"category",data:u.x.reverse()}],yAxis:[{type:"value",scale:!0,name:"已发布"}],dataZoom:[{show:!0,type:"slider"}],grid:{left:"15%",right:"15%"},series:[{name:"文章数量",type:"line",itemStyle:{normal:{color:"#333",lineStyle:{color:"#666"}}},data:u.y.reverse()}]};m.setOption(v),m.hideLoading(),m.on("click",function(e){t.location.href="/?record="+e.name})}var f=e("#album"),p=e("#log-body");p.find("img").parent("a").click(function(t){t.preventDefault()}),p.on("click","img",function(t){t.stopPropagation();var a=e(t.target).attr("src"),i=p.find("img"),n=[];i.each(function(t,i){var c=e(i).attr("src"),o="";o=a===c?"<img src='"+c+"' class='active' />":"<img src='"+c+"' />",-1===e.inArray(o,n)&&n.push(o)}),e("#album-pic").html(n.join("")),f.fadeIn(100)});var g=e("#album-ctrl"),h=e("#album-pic");g.on("click","#next",function(){var t=h.find("img");if(t.length<2)return!1;var a=e("#album-pic").find("img.active");a.next().length?a.next().attr("class","active"):e(t[0]).attr("class","active"),a.removeClass("active")}),g.on("click","#prev",function(){var t=h.find("img");if(t.length<2)return!1;var a=e("#album-pic").find("img.active");a.prev().length?a.prev().attr("class","active"):e(t[t.length-1]).addClass("active"),a.removeClass("active")}),g.on("click","#close-album",function(){f.hide()}),f.on("click",".shadow",function(){f.fadeOut(100)});var y=e("body");y.find(".nav");y.hasClass("headerFixed")||e(t).scroll(function(t){e(this).scrollTop()>200?y.addClass("headerFixed"):y.removeClass("headerFixed")}),prettyPrint(),e(".i-reward").on("click",function(){var t=e(this).data("url");layer.tab({area:["323px","320px"],shadeClose:!0,tab:[{title:"微信",content:'<img src="'+t+'/static/images/wechatPay.png" style="display: block;margin: 0 auto;" height="256" alt="微信打赏">'},{title:"支付宝",content:'<img src="'+t+'/static/images/alipay.jpg" style="display: block;margin: 0 auto;" height="256" alt="打赏作者">'}]})}),lazyload();var b=e(".search-input"),x=e("#search-form");b.focus(function(){x.addClass("active")}),b.blur(function(){x.removeClass("active")})}(window,jQuery);