!function(e,t){"use strict";var i=function(e,t){return e?t.show():t.hide()},a=t("#menu");t(e).resize(function(){var e=document.body.clientWidth<960;i(!e,a)}),t(document).on("click",function(){var e=document.body.clientWidth<960;i(!e,a)}),t("#open-menu").on("click",function(e){e.stopPropagation(),i("block"!==t(a).css("display"),a)});var n=t("#gotoup");t(e).on("scroll",function(){(e.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)>400?i(!0,n):i(!1,n)}),n.on("click",function(){t("body,html").animate({scrollTop:0},1e3)});var o=t("#site-notice");if(o){var c=1,l=o.find("ul"),r=o.find("li"),s=r.length;setInterval(function(){c>=s&&(c=0),l.css({top:-24*c+++"px"})},5e3)}var d=document.getElementById("archive-chart");if(d){var u=t(d).data("value"),v=e.echarts.init(d);v.showLoading();var m={calculable:!0,tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:[{type:"category",data:u.x.reverse()}],yAxis:[{type:"value",scale:!0,name:"已发布"}],dataZoom:[{show:!0,type:"slider"}],grid:{left:"15%",right:"15%"},series:[{name:"文章数量",type:"line",itemStyle:{normal:{color:"#333",lineStyle:{color:"#666"}}},data:u.y.reverse()}]};v.setOption(m),v.hideLoading(),v.on("click",function(t){e.location.href="/?record="+t.name})}var g=t("#album"),f=t("#log-body");f.find("img").parent("a").click(function(e){e.preventDefault()}),f.on("click","img",function(e){e.stopPropagation();var i=t(e.target).attr("src"),a=f.find("img"),n=[];a.each(function(e,a){var o=t(a).attr("src"),c="";c=i===o?"<img src='"+o+"' class='active' />":"<img src='"+o+"' />",-1===t.inArray(c,n)&&n.push(c)}),t("#album-pic").html(n.join("")),g.fadeIn(100)});var p=t("#album-ctrl"),h=t("#album-pic");p.on("click","#next",function(){var e=h.find("img");if(e.length<2)return!1;var i=t("#album-pic").find("img.active");i.next().length?i.next().attr("class","active"):t(e[0]).attr("class","active"),i.removeClass("active")}),p.on("click","#prev",function(){var e=h.find("img");if(e.length<2)return!1;var i=t("#album-pic").find("img.active");i.prev().length?i.prev().attr("class","active"):t(e[e.length-1]).addClass("active"),i.removeClass("active")}),p.on("click","#close-album",function(){g.hide()}),g.on("click",".shadow",function(){g.fadeOut(100)});var y=t("body");y.find(".nav");y.hasClass("headerFixed")||t(e).scroll(function(e){t(this).scrollTop()>200?y.addClass("headerFixed"):y.removeClass("headerFixed")}),prettyPrint();var x=jQuery.ias({container:"#log_list",item:".log_list_item",pagination:"#pagenavi",next:"#pagenavi .next"});x.extension(new IASSpinnerExtension({html:'<div class="log-loading">Loading...</div>'})),x.extension(new IASNoneLeftExtension({text:'<div class="log-loading">加载完毕!</div>'})),x.on("rendered",function(e){t(e).find("img.lazyload").lazyload()}),t(".i-reward").on("click",function(){var e=t(this).data("url");layer.tab({area:["323px","320px"],shadeClose:!0,tab:[{title:"微信",content:'<img src="'+e+'/static/images/wechatPay.png" style="display: block;margin: 0 auto;" height="256" alt="微信打赏">'},{title:"支付宝",content:'<img src="'+e+'/static/images/alipay.jpg" style="display: block;margin: 0 auto;" height="256" alt="打赏作者">'}]})}),lazyload();var b=t(".search-input"),k=t("#search-form");b.focus(function(){k.addClass("active")}),b.blur(function(){k.removeClass("active")})}(window,jQuery);